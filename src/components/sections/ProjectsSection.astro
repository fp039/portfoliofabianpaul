---
import projectsData from '../../data/projects.json';
const { projects } = projectsData;
---

<section class="relative bg-[#E5E5E5] min-h-screen flex flex-col" id="projects">
  <div class="pl-[clamp(20px,5vw,55px)] flex-1 flex flex-col py-24">
    <!-- Section Header -->
    <div class="mb-[clamp(32px,8vh,64px)]">
      <h2>
        <span class="block text-fluid-base italic font-medium text-black leading-[1.5]">
          FEATURED
        </span>
        <span class="block text-fluid-2xl font-medium text-black leading-[1.1] tracking-[0.02em]">
          Projects
        </span>
      </h2>
    </div>

    <!-- Projects Container with Horizontal Scroll -->
    <div class="projects-scroll flex-1 relative">
      <div class="absolute inset-0">
        <div class="h-full flex gap-[clamp(25px,4vw,50px)] pb-4">
          {projects.map((project) => (
            <a 
              href={project.link} 
              class={`group flex flex-col items-start gap-[clamp(15px,2.5vw,25px)] flex-shrink-0 ${
                project.type === 'featured' ? 'w-[clamp(400px,45vw,700px)]' : 'w-[clamp(300px,30vw,350px)]'
              }`}
            >
              <div class="w-full overflow-hidden">
                <img 
                  src={project.image}
                  alt={project.title}
                  class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                />
              </div>
              <div class="space-y-[clamp(8px,1.5vw,16px)]">
                <h3 class="text-h5 font-medium leading-tight tracking-[0.02em] text-[#1D1D1B]">
                  {project.title}
                </h3>
                <p class="text-fluid-sm font-light leading-snug text-[#1D1D1B]">
                  {project.description}
                </p>
              </div>
            </a>
          ))}
        </div>
      </div>
    </div>
  </div>

  <!-- Scroll Arrow -->
  <div class="absolute bottom-12 right-[clamp(20px,5vw,55px)]" id="scroll-arrow">
    <svg width="130" height="57" viewBox="0 0 130 57" fill="none" xmlns="http://www.w3.org/2000/svg" class="scroll-arrow">
      <path d="M0.958496 28.5786H128.867" stroke="#00FF00" stroke-width="5" stroke-miterlimit="10"/>
      <path d="M102.709 2L130 28.5788L102.709 55.2" stroke="#00FF00" stroke-width="5" stroke-miterlimit="10"/>
    </svg>
  </div>
</section>

<style>
  /* Enable horizontal scrolling specifically for projects section */
  .projects-scroll {
    overflow: hidden;
  }

  .projects-scroll > div {
    overflow-x: scroll;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
    overscroll-behavior-x: contain;
    scroll-snap-type: x proximity;
  }

  .projects-scroll > div::-webkit-scrollbar {
    display: none; /* Chrome, Safari and Opera */
  }

  /* Arrow animation */
  .scroll-arrow {
    animation: arrowMove 1.5s ease-in-out infinite;
  }

  @keyframes arrowMove {
    0% {
      transform: translateX(0);
    }
    50% {
      transform: translateX(10px);
    }
    100% {
      transform: translateX(0);
    }
  }
</style>