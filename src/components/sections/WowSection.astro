---
import RotatingCircle from '../ui/RotatingCircle.astro';
import ScrollIndicator from '../ui/ScrollIndicator.astro';
---

<section class="min-h-screen flex flex-col items-center justify-center px-8 py-24 relative overflow-hidden bg-[#0A0A0A]" id="wow-section">
  <!-- Gradient Background -->
  <div class="absolute inset-0 bg-gradient-to-b from-transparent via-accent/5 to-transparent opacity-50"></div>

  <!-- Main Content -->
  <div class="max-w-4xl mx-auto text-center relative z-10 flex flex-col items-center justify-center" id="wow-text">
    <h2 class="flex flex-col items-center gap-2 mb-8">
      <div class="overflow-hidden">
        <span class="block transform italic text-[#E5E5E5] opacity-0" id="line1" style="font-size: clamp(1.5rem, 2.5vw, 2.032rem); font-weight: 300; line-height: 1.1; letter-spacing: 0.01em;">
          Schon mal auf einer Website
        </span>
      </div>
      <div class="overflow-hidden">
        <span class="block transform italic text-[#E5E5E5] opacity-0" id="line2" style="font-size: clamp(1.5rem, 2.5vw, 2.032rem); font-weight: 300; line-height: 1.1; letter-spacing: 0.01em;">
          gewesen und dir gedacht
        </span>
      </div>
      <div class="overflow-visible h-[clamp(100px,20vw,200px)] flex items-center justify-center relative mt-4 mb-4" id="wow-container">
        <!-- Glow effect layers -->
        <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
          <span class="text-accent blur-[30px] opacity-0 absolute" id="wow-glow-outer" style="font-size: clamp(5rem, 15vw, 11.25rem); font-weight: 500; line-height: 1;">
            WOW
          </span>
          <span class="text-accent blur-[15px] opacity-0 absolute" id="wow-glow-inner" style="font-size: clamp(5rem, 15vw, 11.25rem); font-weight: 500; line-height: 1;">
            WOW
          </span>
        </div>
        <!-- Main WOW text -->
        <span class="text-accent translate-z-0 opacity-0 relative" id="wow-word" style="font-size: clamp(5rem, 15vw, 11.25rem); font-weight: 500; line-height: 1;">
          WOW
        </span>
      </div>
    </h2>
    
    <div class="overflow-hidden w-full mt-4">
      <div class="text-center space-y-2 text-text-primary">
        <p class="italic opacity-0" id="help1" style="font-size: clamp(1.5rem, 2.5vw, 2.032rem); font-weight: 300; line-height: 1.1; letter-spacing: 0.01em;">
          Ich helfe dir, genau dieses Erlebnis
        </p>
        <p class="italic opacity-0" id="help2" style="font-size: clamp(1.5rem, 2.5vw, 2.032rem); font-weight: 300; line-height: 1.1; letter-spacing: 0.01em;">
          bei deinen Kunden zu schaffen!
        </p>
      </div>
    </div>
  </div>

  <!-- Animated Grid -->
  <div class="absolute inset-0 grid grid-cols-6 gap-px opacity-20 pointer-events-none">
    {Array(6).fill(0).map((_, i) => (
      <div class="border-r border-accent/20 transform" id={`grid-line-${i}`}></div>
    ))}
  </div>
</section>

<script>
  import { initWowAnimations } from '../../utils/wowAnimations';

  // Initialize animations when GSAP is ready
  window.addEventListener('load', initWowAnimations);
</script>

<style>
  /* Initial states */
  #line1, #line2 {
    transform: translateY(30px);
  }

  #help1, #help2 {
    transform: translateY(30px);
  }

  /* Force GPU acceleration */
  #wow-word, #wow-glow-outer, #wow-glow-inner {
    transform: translateZ(0) scale(0.8);
    will-change: transform, opacity;
  }

  #wow-text {
    transform: translateZ(0);
    will-change: transform;
    backface-visibility: hidden;
  }

  #wow-container {
    cursor: default;
  }

  #wow-container.animation-complete {
    cursor: pointer;
  }
</style>